<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YutFurry - YouTube клієнт</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #0f0f0f;
            color: #ffffff;
            line-height: 1.6;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 240px;
            background-color: #0f0f0f;
            padding: 12px;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            border-right: 1px solid #272727;
        }

        .logo {
            display: flex;
            align-items: center;
            padding: 0 12px;
            margin-bottom: 20px;
        }

        .logo-icon {
            background: linear-gradient(45deg, #ff0000, #ff6b6b);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
            margin-right: 12px;
        }

        .logo-text {
            font-size: 20px;
            font-weight: bold;
            background: linear-gradient(45deg, #ff0000, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-section {
            margin-bottom: 24px;
        }

        .nav-title {
            padding: 8px 24px;
            font-size: 14px;
            color: #aaa;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 10px 24px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 4px;
        }

        .nav-item:hover {
            background-color: #272727;
        }

        .nav-item.active {
            background-color: #272727;
        }

        .nav-icon {
            margin-right: 24px;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Main Content Styles */
        .main-content {
            flex: 1;
            margin-left: 240px;
            padding: 20px;
        }

        .search-container {
            display: flex;
            align-items: center;
            background: #272727;
            border-radius: 24px;
            padding: 8px 16px;
            margin-bottom: 24px;
            max-width: 600px;
        }

        .search-input {
            flex: 1;
            background: transparent;
            border: none;
            color: white;
            font-size: 16px;
            padding: 8px 12px;
            outline: none;
        }

        .search-button {
            background: #373737;
            border: none;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .search-button:hover {
            background: #474747;
        }

        /* Categories */
        .categories {
            display: flex;
            gap: 12px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }

        .category {
            background: #373737;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            white-space: nowrap;
        }

        .category:hover {
            background: #474747;
        }

        .category.active {
            background: white;
            color: black;
        }

        /* Video Grid */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .video-card {
            background: #1a1a1a;
            border-radius: 12px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }

        .video-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(255, 255, 255, 0.1);
        }

        .thumbnail {
            width: 100%;
            height: 180px;
            background: #373737;
            position: relative;
            overflow: hidden;
        }

        .thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .duration {
            position: absolute;
            bottom: 8px;
            right: 8px;
            background: rgba(0, 0, 0, 0.8);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 12px;
        }

        .video-info {
            padding: 12px;
        }

        .video-title {
            font-weight: 600;
            margin-bottom: 8px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .channel-info {
            display: flex;
            align-items: center;
            margin-bottom: 4px;
        }

        .channel-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: #373737;
            margin-right: 12px;
            overflow: hidden;
        }

        .channel-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .channel-name {
            color: #aaa;
            font-size: 14px;
        }

        .video-stats {
            color: #aaa;
            font-size: 14px;
            margin-left: 48px;
        }

        /* Video Player Modal */
        .video-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .video-modal.active {
            display: flex;
        }

        .video-player-container {
            width: 90%;
            max-width: 1200px;
            background: #1a1a1a;
            border-radius: 12px;
            overflow: hidden;
            position: relative;
        }

        .close-button {
            position: absolute;
            top: 16px;
            right: 16px;
            background: rgba(0, 0, 0, 0.7);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 10;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .video-player {
            width: 100%;
            height: 0;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            position: relative;
        }

        .video-player iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        .player-info {
            padding: 20px;
        }

        .player-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .player-stats {
            display: flex;
            justify-content: space-between;
            color: #aaa;
            font-size: 14px;
            margin-bottom: 16px;
        }

        .player-actions {
            display: flex;
            gap: 16px;
            margin-bottom: 20px;
        }

        .action-button {
            background: #373737;
            border: none;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: background 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .action-button:hover {
            background: #474747;
        }

        .player-description {
            background: #272727;
            padding: 16px;
            border-radius: 8px;
            font-size: 14px;
            line-height: 1.5;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #aaa;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .sidebar {
                width: 72px;
            }
            .main-content {
                margin-left: 72px;
            }
            .nav-title, .nav-text {
                display: none;
            }
            .nav-item {
                justify-content: center;
                padding: 16px;
            }
            .nav-icon {
                margin-right: 0;
            }
        }

        @media (max-width: 768px) {
            .video-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
            .categories {
                overflow-x: auto;
                padding-bottom: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar Navigation -->
        <div class="sidebar">
            <div class="logo">
                <div class="logo-icon">YF</div>
                <div class="logo-text">YutFurry</div>
            </div>

            <div class="nav-section">
                <div class="nav-item active">
                    <div class="nav-icon">🏠</div>
                    <div class="nav-text">Головна</div>
                </div>
                <div class="nav-item">
                    <div class="nav-icon">🔥</div>
                    <div class="nav-text">Тренди(В розробці)</div>
                </div>
                <div class="nav-item">
                    <div class="nav-icon">📺</div>
                    <div class="nav-text">Підписки(В розробці)</div>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-title">НАВІГАЦІЯ(Не доступно)</div>
                <div class="nav-item">
                    <div class="nav-icon">🎵</div>
                    <div class="nav-text">Музика</div>
                </div>
                <div class="nav-item">
                    <div class="nav-icon">🎮</div>
                    <div class="nav-text">Ігри</div>
                </div>
                <div class="nav-item">
                    <div class="nav-icon">⚽</div>
                    <div class="nav-text">Спорт</div>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-title">ПРО ТВОРЦЯ</div>
                <div class="nav-item">
                    <div class="nav-icon">👤</div>
                    <div class="nav-text">Артем Процко Андрійович — молодий розробник і творець проєкту YouFurry, який є аналогом YouTube, але з власним стилем, дизайном і сучасними можливостями.</div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Search Bar -->
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Пошук відео..." id="searchInput">
                <button class="search-button" id="searchButton">Пошук</button>
            </div>

            <!-- Categories -->
            <div class="categories">
                <div class="category active">Усі</div>
                <div class="category">Популярне</div>
                <div class="category">Музика</div>
                <div class="category">Ігри</div>
                <div class="category">Фільми</div>
                <div class="category">Живі трансляції</div>
                <div class="category">Навчання</div>
            </div>

            <!-- Video Grid -->
            <div class="video-grid" id="videoGrid">
                <div class="loading">Завантаження популярних відео...</div>
            </div>
        </div>

        <!-- Video Player Modal -->
        <div class="video-modal" id="videoModal">
            <div class="video-player-container">
                <button class="close-button" id="closeButton">✕</button>
                <div class="video-player" id="videoPlayer">
                    <!-- YouTube iframe will be inserted here -->
                </div>
                <div class="player-info" id="playerInfo">
                    <!-- Video info will be inserted here -->
                </div>
            </div>
        </div>
    </div>

  <script>
const API_KEY = 'AIzaSyBVqXcayVNDN63l4WpH2HOrTfAqzh3DTXo';
let currentVideos = [];

// Elements
const searchInput = document.getElementById('searchInput');
const searchButton = document.getElementById('searchButton');
const videoGrid = document.getElementById('videoGrid');
const videoModal = document.getElementById('videoModal');
const videoPlayer = document.getElementById('videoPlayer');
const playerInfo = document.getElementById('playerInfo');
const closeButton = document.getElementById('closeButton');

// Mobile-specific
const topSearchBar = document.getElementById('topSearchBar');
const searchInputMobile = document.getElementById('searchInputMobile');
const searchButtonMobile = document.getElementById('searchButtonMobile');
const bottomNav = document.getElementById('bottomNav');

// Sample videos
const sampleVideos = [
    {
        id: { videoId: 'dQw4w9WgXcQ' },
        snippet: { title: 'Never Gonna Give You Up - Rick Astley', description: 'Official video for Rick Astley - Never Gonna Give You Up', channelTitle: 'Rick Astley', publishedAt: '2009-10-25T06:57:33Z', thumbnails: { medium: { url: 'https://img.youtube.com/vi/dQw4w9WgXcQ/mqdefault.jpg' } } },
        statistics: { viewCount: '1500000000', likeCount: '12000000' }
    },
    {
        id: { videoId: 'kJQP7kiw5Fk' },
        snippet: { title: 'Despacito ft. Daddy Yankee', description: 'Luis Fonsi - Despacito ft. Daddy Yankee', channelTitle: 'Luis Fonsi', publishedAt: '2017-01-13T04:59:31Z', thumbnails: { medium: { url: 'https://img.youtube.com/vi/kJQP7kiw5Fk/mqdefault.jpg' } } },
        statistics: { viewCount: '8000000000', likeCount: '50000000' }
    },
    {
        id: { videoId: '9bZkp7q19f0' },
        snippet: { title: 'PSY - GANGNAM STYLE', description: 'PSY - GANGNAM STYLE M/V', channelTitle: 'officialpsy', publishedAt: '2012-07-15T07:46:32Z', thumbnails: { medium: { url: 'https://img.youtube.com/vi/9bZkp7q19f0/mqdefault.jpg' } } },
        statistics: { viewCount: '4500000000', likeCount: '23000000' }
    }
];

// Developer info modal
const infoModal = document.createElement('div');
infoModal.className = 'video-modal';
infoModal.innerHTML = `
<div class="video-player-container" style="max-width:600px;padding:24px;text-align:center;">
  <button class="close-button" id="closeInfoBtn">✕</button>
  <div style="font-size:16px;line-height:1.6;">
    <h2>Про розробника</h2>
    <p>Артем Процко Андрійович — молодий розробник і творець проєкту <b>YouFurry</b>.</p>
  </div>
</div>`;
document.body.appendChild(infoModal);
document.getElementById('closeInfoBtn').addEventListener('click', () => {
    infoModal.classList.remove('active');
    document.body.style.overflow = 'auto';
});

// DOM ready
document.addEventListener('DOMContentLoaded', function() {
    handleResponsiveUI();
    window.addEventListener('resize', handleResponsiveUI);

    loadPopularVideos();

    // Search
    searchButton.addEventListener('click', handleSearch);
    searchInput.addEventListener('keypress', e => { if(e.key==='Enter') handleSearch(); });
    if(searchButtonMobile){
        searchButtonMobile.addEventListener('click', () => {
            const q = searchInputMobile.value.trim();
            if(!q) return;
            searchInput.value = q;
            handleSearch();
        });
        searchInputMobile.addEventListener('keypress', e => { if(e.key==='Enter') searchButtonMobile.click(); });
    }

    closeButton.addEventListener('click', closeVideoPlayer);
    videoModal.addEventListener('click', e => { if(e.target===videoModal) closeVideoPlayer(); });

    // Categories
    document.querySelectorAll('.category').forEach(c => {
        c.addEventListener('click', function(){
            document.querySelectorAll('.category').forEach(i=>i.classList.remove('active'));
            this.classList.add('active');
            handleCategoryClick(this.textContent);
        });
    });

    // Sidebar
    document.querySelectorAll('.sidebar .nav-item').forEach(item => {
        item.addEventListener('click', () => {
            const text = item.querySelector('.nav-text')?.textContent || '';
            if(text.includes('Головна')) location.reload();
            else if(text.includes('Тренди')) { searchInput.value='Тренди цього року'; handleSearch(); }
            else if(text.includes('Підписки')) showAlertModal('Для цього розділу потрібно мати аккаунт. Функція в розробці.');
            else if(['Музика','Ігри','Спорт','Навчання'].some(x=>text.includes(x))){ searchInput.value=text; handleSearch(); }
            else if(text.includes('Артем Процко')) { infoModal.classList.add('active'); document.body.style.overflow='hidden'; }
        });
    });

    // Bottom nav
    document.querySelectorAll('.bottom-nav .nav-item-mobile').forEach(item => {
        item.addEventListener('click', e => {
            e.preventDefault();
            document.querySelectorAll('.bottom-nav .nav-item-mobile').forEach(i=>i.classList.remove('active'));
            item.classList.add('active');
        });
    });
});

// Responsive UI
function handleResponsiveUI(){
    const w = window.innerWidth;
    if(w<=768){
        topSearchBar.style.display='flex';
        bottomNav.style.display='flex';
        document.getElementById('mainContent').style.paddingTop='76px';
    } else {
        topSearchBar.style.display='none';
        bottomNav.style.display='none';
        document.getElementById('mainContent').style.paddingTop='20px';
    }
}

// Search
async function handleSearch(){
    const query = searchInput.value.trim();
    if(!query) return;
    videoGrid.innerHTML='<div class="loading">Завантаження...</div>';
    try{
        const res = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=12&q=${encodeURIComponent(query)}&type=video&key=${API_KEY}`);
        const data = await res.json();
        if(data.items && data.items.length>0){
            const ids = data.items.map(i=>i.id.videoId).join(',');
            const statsRes = await fetch(`https://www.googleapis.com/youtube/v3/videos?part=statistics&id=${ids}&key=${API_KEY}`);
            const statsData = await statsRes.json();
            const videos = data.items.map((item,i)=>({...item, statistics: statsData.items[i]?.statistics || {viewCount:'0',likeCount:'0'}}));
            displayVideos(videos);
        } else displayVideos(sampleVideos.filter(v=>v.snippet.title.toLowerCase().includes(query.toLowerCase())));
    }catch{
        displayVideos(sampleVideos.filter(v=>v.snippet.title.toLowerCase().includes(query.toLowerCase())));
    }
}

// Load popular
async function loadPopularVideos(){
    videoGrid.innerHTML='<div class="loading">Завантаження популярних відео...</div>';
    try{
        const res = await fetch(`https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&chart=mostPopular&maxResults=12&regionCode=UA&key=${API_KEY}`);
        const data = await res.json();
        if(data.items && data.items.length>0){
            const videos = data.items.map(i=>({id:{videoId:i.id}, snippet:i.snippet, statistics:i.statistics}));
            displayVideos(videos);
        } else displayVideos(sampleVideos);
    } catch { displayVideos(sampleVideos); }
}

// Display videos
function displayVideos(videos){
    currentVideos = videos;
    if(videos.length===0){ videoGrid.innerHTML='<div class="loading">Відео не знайдено</div>'; return; }
    videoGrid.innerHTML = videos.map(video=>`
        <div class="video-card" onclick="openVideoPlayer('${video.id.videoId}')">
            <div class="thumbnail">
                <img src="${video.snippet.thumbnails?.medium?.url}" alt="${escapeHtml(video.snippet.title)}">
                <div class="duration">5:30</div>
            </div>
            <div class="video-info">
                <div class="video-title">${escapeHtml(video.snippet.title)}</div>
                <div class="channel-info">
                    <div class="channel-avatar"><img src="https://via.placeholder.com/36/373737/ffffff?text=${encodeURIComponent(video.snippet.channelTitle.charAt(0))}"></div>
                    <div style="display:flex;flex-direction:column;">
                        <div class="channel-name">${escapeHtml(video.snippet.channelTitle)}</div>
                        <div class="video-stats">${formatViewCount(video.statistics?.viewCount || '0')} переглядів • ${formatTimeAgo(video.snippet.publishedAt)}</div>
                    </div>
                </div>
            </div>
        </div>
    `).join('');
}

// Open video modal
function openVideoPlayer(videoId){
    videoPlayer.innerHTML=''; playerInfo.innerHTML='';
    const video = currentVideos.find(v=>v.id.videoId===videoId);
    if(!video) return;
    const iframe = document.createElement('iframe');
    iframe.src=`https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0&modestbranding=1`;
    iframe.allow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';
    iframe.allowFullscreen=true;
    videoPlayer.appendChild(iframe);
    playerInfo.innerHTML=`
        <div class="player-title">${escapeHtml(video.snippet.title)}</div>
        <div class="player-stats">
            <span>${formatViewCount(video.statistics?.viewCount||'0')} переглядів</span>
            <span>${formatTimeAgo(video.snippet.publishedAt)}</span>
        </div>
        <div class="player-actions">
            <button class="action-button">👍 ${formatCount(video.statistics?.likeCount||'0')}</button>
            <button class="action-button">👎 Не подобається (В Розробці)</button>
            <button class="action-button">📤 Поділитися (В Розробці)</button>
            <button class="action-button">💾 Зберегти (В Розробці)</button>
        </div>
        <div class="player-description">
            <strong>${escapeHtml(video.snippet.channelTitle)}</strong><br>
            ${escapeHtml(video.snippet.description||'')}
        </div>`;
    videoModal.classList.add('active'); document.body.style.overflow='hidden';
}

// Close modal
function closeVideoPlayer(){
    videoModal.classList.remove('active'); document.body.style.overflow='auto'; videoPlayer.innerHTML='';
}

// Alert modal
function showAlertModal(message){
    const modal = document.createElement('div');
    modal.className='video-modal';
    modal.innerHTML=`
      <div class="video-player-container" style="max-width:400px;padding:24px;text-align:center;">
        <button class="close-button">✕</button>
        <p style="font-size:16px;line-height:1.6;">${message}</p>
      </div>`;
    document.body.appendChild(modal);
    modal.classList.add('active'); document.body.style.overflow='hidden';
    modal.querySelector('.close-button').addEventListener('click',()=>{ modal.remove(); document.body.style.overflow='auto'; });
    modal.addEventListener('click',e=>{ if(e.target===modal){ modal.remove(); document.body.style.overflow='auto'; } });
}

// Category
function handleCategoryClick(category){
    if(category==='Популярне'){ loadPopularVideos(); return; }
    let filtered=[...sampleVideos];
    if(category!=='Усі') filtered=filtered.filter(v=>v.snippet.title.toLowerCase().includes(category.toLowerCase()));
    displayVideos(filtered);
}

// Helpers
function formatViewCount(v){ const c=parseInt(v||'0',10); if(c>=1e6)return (c/1e6).toFixed(1)+'M'; if(c>=1e3)return (c/1e3).toFixed(1)+'K'; return c.toString(); }
function formatCount(c){ return formatViewCount(c); }
function formatTimeAgo(dateStr){ if(!dateStr) return ''; const diff=Math.floor((Date.now()-new Date(dateStr))/86400000); if(diff<30)return diff+' днів тому'; if(diff<365)return Math.floor(diff/30)+' місяців тому'; return Math.floor(diff/365)+' років тому'; }
function escapeHtml(str){ if(!str) return ''; return String(str).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#039;'); }
</script>
</body>
</html>
